---
test:
  a.rb:
    diagnostics:
    - |
      a.rb:6:4: [error] IncompatibleAssignment: lhs_type=::String, rhs_type=::Integer (x = yield(3))
      │   ::Integer <: ::String
      │    ::Numeric <: ::String
      │     ::Object <: ::String
      │      ::BasicObject <: ::String
      │ ==> ::BasicObject <: ::String does not hold
      │
      └     x = yield(3)
            ~~~~~~~~~~~~
    - |
      a.rb:8:10: [error] IncompatibleAssignment: lhs_type=::Integer, rhs_type=::String (x)
      │   ::String <: ::Integer
      │    ::Object <: ::Integer
      │     ::BasicObject <: ::Integer
      │ ==> ::BasicObject <: ::Integer does not hold
      │
      └     yield(x)
                  ~
    - |
      a.rb:13:4: [error] UnexpectedYield (yield 4)
      │
      └     yield 4
            ~~~~~~~
    - |
      a.rb:13:4: [error] FallbackAny (yield 4)
      │
      └     yield 4
            ~~~~~~~
